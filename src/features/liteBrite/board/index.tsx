import * as React from "react"
import { useAppDispatch, useAppSelector } from "../../../app/hooks"
import { resetCells, setIsErasing } from "./boardSlice"

import LiteBoard from "./components/LiteBoard"

const BoardContainer = () => {
    const isErasing = useAppSelector(state => state.board.isErasing)
    const dispatch = useAppDispatch()

    const handleResetClick = (e: React.MouseEvent<HTMLButtonElement>) => {
        e.preventDefault()
        dispatch(resetCells())
    }

    const handleSetEraser = () => {
        dispatch(setIsErasing(!isErasing))
    }

    return (
        <div className="board-container">
            <header className="board-header">
                <h1 className="title section-heading">Lite Brite</h1>
                <div className={ isErasing ? "eraser-container selected" : "eraser-container"} onClick={handleSetEraser}>
                    <svg width="50pt" height="50pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                        <path d="m718.23 59.031 6.7188 5.6406c17.293-20.508 41.371-32.133 66.176-34.285 24.875-2.1562 50.656 5.1602 71.262 22.438l255.86 214.67c20.621 17.305 32.316 41.441 34.496 66.344 2.1836 24.816-5.0898 50.516-22.281 71.094l6.6758 5.5977c7.5977 6.3633 8.6016 17.715 2.2383 25.312l-509.06 606.69c-6.3633 7.5977-17.715 8.6016-25.312 2.2383l-6.7188-5.625-80.449 95.883c-9.1289 10.871-19.887 19.348-31.945 25.23l-1.5039 0.79297c-12.613 5.8828-26.547 8.9141-41.387 8.9141h-103.08c-11.793 0-22.918-1.9141-33.465-5.7383-10.531-3.8281-20.281-9.5391-29.324-17.121l-195.35-163.93c-20.652-17.32-32.328-41.457-34.512-66.359-2.1562-24.875 5.1445-50.656 22.438-71.262l123.08-146.68-6.6914-5.6133c-7.5977-6.3633-8.6016-17.715-2.2383-25.312l509.06-606.68c6.3633-7.5977 17.715-8.6016 25.312-2.2383zm-137.88 435.77c42.504 0 81 17.234 108.85 45.086 27.852 27.852 45.086 66.359 45.086 108.85 0 42.504-17.234 81-45.086 108.85-27.852 27.852-66.344 45.086-108.85 45.086-42.504 0-81-17.234-108.85-45.086-27.852-27.852-45.086-66.344-45.086-108.85 0-42.492 17.234-81 45.086-108.85 27.852-27.852 66.344-45.086 108.85-45.086zm83.395 70.539c-21.332-21.332-50.824-34.539-83.395-34.539-32.57 0-62.066 13.211-83.395 34.539-21.332 21.332-34.539 50.84-34.539 83.395 0 32.57 13.211 62.066 34.539 83.395 21.332 21.332 50.824 34.539 83.395 34.539 32.57 0 62.066-13.211 83.395-34.539 21.332-21.332 34.539-50.824 34.539-83.395 0-32.555-13.211-62.066-34.539-83.395zm-49.945-353.88 391.4 328.38 95.09-113.33-391.38-328.39-95.102 113.34zm368.29 355.92-391.4-328.39-5.8242 6.9453 391.38 328.39zm-28.941 34.484-391.38-328.39-338.83 403.8 391.38 328.41zm-754.39 532.09c9.9336 0 18 8.0664 18 18s-8.0664 18-18 18h-133.88c-9.9336 0-18-8.0664-18-18s8.0664-18 18-18zm375.34 36c-9.9336 0-18-8.0664-18-18s8.0664-18 18-18h535.61c9.9336 0 18 8.0664 18 18s-8.0664 18-18 18zm-3.3438-153.92-350.44-294.07-123.07 146.65c-10.898 12.996-15.504 29.309-14.129 45.098 1.375 15.746 8.7461 31.012 21.727 41.895l195.35 163.93c5.8555 4.918 12.031 8.5742 18.496 10.914 6.4219 2.3242 13.492 3.5 21.219 3.5h103.08c9.5391 0 18.355-1.8867 26.191-5.543l1.1914-0.51172c7.3555-3.6406 14.059-9 19.898-15.961l80.477-95.91zm181.71-928.27 350.46 294.05c10.773-12.969 15.32-29.195 13.945-44.902-1.375-15.746-8.7461-30.996-21.715-41.883l-255.86-214.67c-12.996-10.898-29.324-15.504-45.098-14.129-15.676 1.3594-30.855 8.6602-41.742 21.531z" fill="#fff"/>
                    </svg>
                </div>
                <button className="reset-button" onClick={handleResetClick}>Reset</button>
            </header>
            <LiteBoard />
        </div>
    )
}

export default BoardContainer